var me=Object.defineProperty,be=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var oe=(e,a,t)=>a in e?me(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,y=(e,a)=>{for(var t in a||(a={}))ve.call(a,t)&&oe(e,t,a[t]);if(ie)for(var t of ie(a))ge.call(a,t)&&oe(e,t,a[t]);return e},j=(e,a)=>be(e,fe(a));import{a as U}from"./QSelect.5a6812ee.js";import{a as Y,k as he,l as ye,i as de,u as $,m as _e,s as se,c as ee,h as z,n as ke,o as xe,p as Ve,_ as Se,q as qe,r as we}from"./index.c74345e2.js";import{a as Ce,b as Ae,Q as ce}from"./QInput.a6e2b53c.js";import{r as te,b as s,h as b,g as ae,f as Be,m as re,D as Pe,x as f,I as k,p as S,z as L,M as G,A as R,F as p,N as H,w as J,L as K,O as X,E as Z,P as ue,y as F,e as Re,B as Ee,C as Ie}from"./quasar.c7fe1536.js";function Me(e,a){const t=te(null),r=s(()=>e.disable!==!0?null:b("span",{ref:t,class:"no-outline",tabindex:-1}));function i(u){const c=a.value;u!==void 0&&u.type.indexOf("key")===0?c!==null&&document.activeElement!==c&&c.contains(document.activeElement)===!0&&c.focus():t.value!==null&&(u===void 0||c!==null&&c.contains(u.target)===!0)&&t.value.focus()}return{refocusTargetEl:r,refocusTarget:i}}var Oe={xs:30,sm:35,md:40,lg:50,xl:60};const je=j(y(y(y({},$),_e),Ce),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),Le=["update:modelValue"];function Te(e,a){const{props:t,slots:r,emit:i,proxy:u}=ae(),{$q:c}=u,l=Y(t,c),m=te(null),{refocusTargetEl:C,refocusTarget:D}=Me(t,m),A=he(t,Oe),B=s(()=>t.val!==void 0&&Array.isArray(t.modelValue)),P=s(()=>B.value===!0?t.modelValue.indexOf(t.val):-1),v=s(()=>B.value===!0?P.value>-1:t.modelValue===t.trueValue),E=s(()=>B.value===!0?P.value===-1:t.modelValue===t.falseValue),T=s(()=>v.value===!1&&E.value===!1),I=s(()=>t.disable===!0?-1:t.tabindex||0),N=s(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(l.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),W=s(()=>{const n=v.value===!0?"truthy":E.value===!0?"falsy":"indet",w=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?v.value===!0:E.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${n}${w}`}),Q=s(()=>{const n={type:"checkbox"};return t.name!==void 0&&Object.assign(n,{"^checked":v.value===!0?"checked":void 0,name:t.name,value:B.value===!0?t.val:t.trueValue}),n}),_=Ae(Q),o=s(()=>{const n={tabindex:I.value,role:"checkbox","aria-label":t.label,"aria-checked":T.value===!0?"mixed":v.value===!0?"true":"false"};return t.disable===!0&&(n["aria-disabled"]="true"),n});function d(n){n!==void 0&&(se(n),D(n)),t.disable!==!0&&i("update:modelValue",x(),n)}function x(){if(B.value===!0){if(v.value===!0){const n=t.modelValue.slice();return n.splice(P.value,1),n}return t.modelValue.concat([t.val])}if(v.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(E.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function g(n){(n.keyCode===13||n.keyCode===32)&&se(n)}function V(n){(n.keyCode===13||n.keyCode===32)&&d(n)}const q=a(v,T);return Object.assign(u,{toggle:d}),()=>{const n=q();t.disable!==!0&&_(n,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const w=[b("div",{class:W.value,style:A.value},n)];C.value!==null&&w.push(C.value);const M=t.label!==void 0?ye(r.default,[t.label]):de(r.default);return M!==void 0&&w.push(b("div",{class:`q-${e}__label q-anchor--skip`},M)),b("div",j(y({ref:m,class:N.value},o.value),{onClick:d,onKeydown:g,onKeyup:V}),w)}}const Ne=b("div",{key:"svg",class:"q-checkbox__bg absolute"},[b("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[b("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),b("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Qe=ee({name:"QCheckbox",props:je,emits:Le,setup(e){function a(t,r){const i=s(()=>(t.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[b("div",{key:"icon",class:"q-checkbox__icon-container absolute flex flex-center no-wrap"},[b(z,{class:"q-checkbox__icon",name:i.value})])]:[Ne]}return Te("checkbox",a)}});const pe=["horizontal","vertical","cell","none"];var Fe=ee({name:"QMarkupTable",props:j(y({},$),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>pe.includes(e)}}),setup(e,{slots:a}){const t=ae(),r=Y(e,t.proxy.$q),i=s(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>b("div",{class:i.value},[b("table",{class:"q-table"},de(a.default))])}}),ze=ee({name:"QPagination",props:j(y({},$),{modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}}),emits:["update:modelValue"],setup(e,{emit:a}){const{proxy:t}=ae(),{$q:r}=t,i=Y(e,r),u=te(null),c=s({get:()=>e.modelValue,set:o=>{if(o=parseInt(o,10),e.disable||isNaN(o))return;const d=ke(o,e.min,e.max);e.modelValue!==d&&a("update:modelValue",d)}});Be(()=>e.min+e.max,()=>{c.value=e.modelValue});function l(o,d){return[!0,!1].includes(o)?o:d}const m=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),C=s(()=>c.value+" / "+e.max),D=s(()=>l(e.boundaryLinks,e.input)),A=s(()=>l(e.boundaryNumbers,!e.input)),B=s(()=>l(e.directionLinks,e.input)),P=s(()=>l(e.ellipses,!e.input)),v=s(()=>{const o=[e.iconFirst||r.iconSet.pagination.first,e.iconPrev||r.iconSet.pagination.prev,e.iconNext||r.iconSet.pagination.next,e.iconLast||r.iconSet.pagination.last];return r.lang.rtl===!0?o.reverse():o}),E=s(()=>e.disable===!0?{"aria-disabled":"true"}:{}),T=s(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),I=s(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function N(o){c.value=o}function W(o){c.value=c.value+o}function Q(){c.value=u.value,u.value=null}function _(o,d){const x=y(y({},T.value),o);return d!==void 0&&(e.toFn!==void 0?x.to=e.toFn(d):x.onClick=()=>N(d)),b(xe,x)}return Object.assign(t,{set:N,setByOffset:W}),()=>{const o=[],d=[],x=[];if(D.value&&(o.push(_({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:v.value[0]},e.min)),d.unshift(_({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:v.value[3]},e.max))),B.value&&(o.push(_({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:v.value[1]},e.modelValue-1)),d.unshift(_({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:v.value[2]},e.modelValue+1))),e.input===!0)x.push(b(ce,{class:"inline",style:{width:`${C.value.length/1.5}em`},type:"number",dense:!0,value:u.value,disable:e.disable,dark:i.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:C.value,min:e.min,max:e.max,"onUpdate:modelValue"(g){u.value=g},onKeyup(g){Ve(g,13)===!0&&Q()},onBlur:Q}));else{let g=Math.max(e.maxPages,1+(P.value?2:0)+(A.value?2:0)),V=e.min,q=e.max,n=!1,w=!1,M=!1,le=!1;e.maxPages&&g<e.max-e.min+1&&(g=1+Math.floor(g/2)*2,V=Math.max(e.min,Math.min(e.max-g+1,e.modelValue-Math.floor(g/2))),q=Math.min(e.max,V+g-1),A.value&&(M=!0,V+=1),P.value&&V>e.min+(A.value?1:0)&&(n=!0,V+=1),A.value&&(le=!0,q-=1),P.value&&q<e.max-(A.value?1:0)&&(w=!0,q-=1));const O={minWidth:`${Math.max(2,String(e.max).length)}em`};if(M){const h=e.min===e.modelValue;o.push(_(y({key:"bns",style:O,disable:e.disable,flat:!h,label:e.min},h?I.value:{}),e.min))}if(le){const h=e.max===e.modelValue;d.unshift(_(y({key:"bne",style:O,disable:e.disable,flat:!h,label:e.max},h?I.value:{}),e.max))}n&&o.push(_({key:"bes",style:O,disable:e.disable,label:"\u2026",ripple:!1},V-1)),w&&d.unshift(_({key:"bee",style:O,disable:e.disable,label:"\u2026",ripple:!1},q+1));for(let h=V;h<=q;h++){const ne={key:`bpg${h}`,style:O,disable:e.disable,label:h};h===e.modelValue&&Object.assign(ne,I.value),x.push(_(ne,h))}}return b("div",y({class:m.value},E.value),[o,b("div",{class:"row justify-center"},[x]),d])}}});const{setVerticalScrollPosition:De}=we,We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEXMzMyWlpaqqqq3t7fFxcW+vr6xsbGjo6OcnJyLKnDGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtHOTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJJ0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvFIXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOyqPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg==",Ue={name:"Table",props:{coins:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},timeRange:{type:Object,default:()=>({})},rowsPerPage:{type:Object,default:()=>({})},likedRowIds:{type:Array,default:()=>({})},currentPage:{type:Number,default:1},visibleColumns:{type:Array,default:()=>[]},maxPage:{type:Number,default:132},type:{type:String,default:"big"}},emits:["on-search","update:current-page","update:liked-row-ids","update:search-query"],data(){return{currentSort:{direction:null,column:null},logoPlaceholder:We,rows:[],searchQuery:""}},computed:{notRequiredCols(){return this.columns.filter(e=>!e.required)},filteredColumns(){return this.columns.reduce((e,a)=>((a.required||this.visibleColumns.includes(a.name))&&(e[a.name]={}),e),{})}},methods:{sort({column:e}){!e.sortable||(!this.currentSort.column||this.currentSort.column!==e.name?(this.currentSort.column=e.name,this.currentSort.direction="ad",this.rows=this.objectWithMarkRaw([...this.rows].sort(e.sortable.handler))):this.currentSort.column===e.name&&(this.currentSort.direction==="ad"?(this.currentSort.column=e.name,this.currentSort.direction="da",this.rows=this.objectWithMarkRaw([...this.rows].reverse())):this.currentSort.direction==="da"&&(this.currentSort.column=null,this.currentSort.direction=null,this.resetLocalRows())))},objectWithMarkRaw(e){return re(e)},resetLocalRows(){this.rows=re(this.coins)},paginationHandler(e){this.$emit("update:current-page",e),De(this.$refs.table,0)}},mounted(){!this.rows.length&&!this.loading&&this.coins.length&&this.resetLocalRows()},watch:{coins(e,a){this.resetLocalRows()},searchQuery(e){const a=["symbol","name"],t={};for(let r=0;r<this.coins.length;r++)for(let i=0;i<a.length;i++)this.coins[r][a[i]]&&(this.coins[r][a[i]]+"").toLowerCase().includes(e.trim().toLowerCase())&&(t[this.coins[r].id]=this.coins[r]);this.rows=this.objectWithMarkRaw(Object.values(t))}}},Ge=e=>(Ee("data-v-d66220b4"),e=e(),Ie(),e),He={class:"container table"},Je={key:0,class:"table__controls"},Ke=["onClick"],Xe={class:"q-table__progress table__progress"},Ze=Ge(()=>R("th",{class:"relative-position",colspan:"8"},[R("div",{class:"q-linear-progress text-primary q-table__linear-progress",role:"progressbar","aria-valuemin":"0","aria-valuemax":"1",style:{"--q-linear-progress-speed":"2100ms"}},[R("div",{class:"q-linear-progress__track absolute-full q-linear-progress__track--with-transition q-linear-progress__track--light bg-transparent",style:{transform:"scale3d(1, 1, 1)"}}),R("div",{class:"q-linear-progress__model absolute-full q-linear-progress__model--with-transition q-linear-progress__model--indeterminate",style:{transform:"scale3d(1, 1, 1)"}})])],-1)),Ye=[Ze],$e=Z(" Page "),et={key:1,class:"table__pagination"};function tt(e,a,t,r,i,u){const c=Pe("router-link");return f(),k("div",He,[t.type==="big"?(f(),k("div",Je,[S(U,{"transition-show":"jump-up","transition-hide":"jump-up",modelValue:t.rowsPerPage.value,"onUpdate:modelValue":a[0]||(a[0]=l=>t.rowsPerPage.value=l),outlined:"",dense:"","options-dense":"","emit-value":"","map-options":"",options:t.rowsPerPage.options,label:"Per Page",style:{"min-width":"100px"}},null,8,["modelValue","options"]),S(U,{"transition-show":"jump-up","transition-hide":"jump-up",modelValue:t.timeRange.value,"onUpdate:modelValue":a[1]||(a[1]=l=>t.timeRange.value=l),outlined:"",clearable:"",dense:"","options-dense":"","emit-value":"","map-options":"",options:t.timeRange.options,style:{"min-width":"200px"}},{prepend:L(()=>[S(z,{name:"event"})]),_:1},8,["modelValue","options"]),S(U,{"transition-show":"jump-up","transition-hide":"jump-up",modelValue:t.visibleColumns,"onUpdate:modelValue":a[2]||(a[2]=l=>t.visibleColumns=l),multiple:"",outlined:"",dense:"","options-dense":"","display-value":"Filter","emit-value":"","map-options":"",options:u.notRequiredCols,"option-value":"name",style:{"min-width":"150px"}},null,8,["modelValue","options"]),S(ce,{outlined:"",modelValue:i.searchQuery,"onUpdate:modelValue":a[3]||(a[3]=l=>i.searchQuery=l),placeholder:"Search",dense:"",debounce:"300"},{append:L(()=>[S(z,{name:"search"})]),_:1},8,["modelValue"])])):G("",!0),S(Fe,{class:X(["table__table",{"table__table--small":t.type==="small"}]),ref:"table"},{default:L(()=>[R("thead",null,[R("tr",null,[(f(!0),k(p,null,H(t.columns,l=>J((f(),k("th",{key:l.name,class:X(["table__th",{"has-sort":l.sortable}]),onClick:m=>u.sort({column:l})},[Z(ue(l.label)+" ",1),l.sortable?(f(),F(z,{key:0,name:"arrow_upward",class:X(["table__sort-icon",{sorted:i.currentSort.column===l.name,"sorted-ad":i.currentSort.column===l.name&&i.currentSort.direction==="ad","sorted-da":i.currentSort.column===l.name&&i.currentSort.direction==="da"}])},null,8,["class"])):G("",!0)],10,Ke)),[[K,l.name in u.filteredColumns]])),128))]),J(R("tr",Xe,Ye,512),[[K,t.loading]])]),S(Re,{tag:"tbody",name:"list",class:"table__t-body"},{default:L(()=>[(f(!0),k(p,null,H(i.rows,l=>(f(),k("tr",{key:l.id},[(f(!0),k(p,null,H(t.columns,m=>J((f(),k("td",{key:m.name,class:"table__td"},[m.name==="image"?(f(),F(qe,{key:0,class:"table__td-image",src:l[m.name],alt:m.name,"logo-placeholder":i.logoPlaceholder,"spinner-color":"white"},null,8,["src","alt","logo-placeholder"])):m.name==="likes"?(f(),F(Qe,{key:1,class:"table__like-icon","model-value":t.likedRowIds,"onUpdate:modelValue":a[4]||(a[4]=C=>e.$emit("update:liked-row-ids",C)),"checked-icon":"favorite","unchecked-icon":"favorite_border",size:"30px",val:l.id},null,8,["model-value","val"])):m.name==="pageLink"?(f(),F(c,{key:2,class:"table__page-link",to:{name:"SpecialCoin",params:{id:l.id}}},{default:L(()=>[$e]),_:2},1032,["to"])):(f(),k(p,{key:3},[Z(ue(m.format?m.format(l[m.name]):l[m.name]),1)],64))],512)),[[K,m.name in u.filteredColumns]])),128))]))),128))]),_:1})]),_:1},8,["class"]),t.type==="big"?(f(),k("div",et,[S(ze,{"model-value":t.currentPage,"onUpdate:modelValue":u.paginationHandler,color:"primary",max:t.maxPage,"max-pages":5,"boundary-numbers":"",disable:t.loading},null,8,["model-value","onUpdate:modelValue","max","disable"])])):G("",!0)])}var st=Se(Ue,[["render",tt],["__scopeId","data-v-d66220b4"]]);export{st as T};
