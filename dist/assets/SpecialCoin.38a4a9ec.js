var R=Object.defineProperty,w=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var p=(e,a,t)=>a in e?R(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,d=(e,a)=>{for(var t in a||(a={}))P.call(a,t)&&p(e,t,a[t]);if(h)for(var t of h(a))E.call(a,t)&&p(e,t,a[t]);return e},g=(e,a)=>w(e,G(a));import{c as L,u as x,a as S,i as q,_ as B,o as Q,a0 as I,a1 as M,q as D}from"./index.964fddf4.js";import{b as k,h as T,g as z,m as u,D as O,x as b,I as _,p as o,z as m,w as v,M as C,A as l,T as f,Q as V,N as $}from"./quasar.9bea6539.js";import{T as J}from"./Table.fd720876.js";import"./QSelect.93065123.js";import"./QInput.d9d52eaf.js";const N=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],W=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var H=L({name:"QSkeleton",props:g(d({},x),{tag:{type:String,default:"div"},type:{type:String,validator:e=>N.includes(e),default:"rect"},animation:{type:String,validator:e=>W.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String}),setup(e,{slots:a}){const t=z(),c=S(e,t.proxy.$q),n=k(()=>{const r=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:r[0],height:r[1]}}),i=k(()=>`q-skeleton q-skeleton--${c.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>T(e.tag,{class:i.value,style:n.value},q(a.default))}});const U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEXMzMyWlpaqqqq3t7fFxcW+vr6xsbGjo6OcnJyLKnDGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtHOTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJJ0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvFIXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOyqPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg==",X=13100,Z={name:"SpecialCoin",components:{TableBig:J},data(){return{logoPlaceholder:U,graphicLoading:!0,columns:u([{name:"image",label:"Logo",required:!0},{name:"name",label:"Name",format:e=>e,sortable:{handler:(e,a)=>e.name.localeCompare(a.name)}},{name:"market_cap",label:"Market Cap",format:e=>"$"+e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),field:e=>e.market_cap,sortable:{handler:(e,a)=>e.market_cap-a.market_cap}},{name:"current_price",label:"Current Price",format:e=>"$"+e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),sortable:{handler:(e,a)=>e.current_price-a.current_price}},{name:"price_change_percentage_24h",label:"Price Change (24h)",format:e=>e+"%",sortable:{handler:(e,a)=>e.price_change_percentage_24h-a.price_change_percentage_24h}},{name:"mentions",label:"Mentions",format:e=>"",sortable:{handler:(e,a)=>0}},{name:"sentiment",label:"Sentiment",format:e=>"",sortable:{handler:(e,a)=>0}},{name:"diffusion",label:"Diffusion",format:e=>"",sortable:{handler:(e,a)=>0}},{name:"reach",label:"Reach",format:e=>"",sortable:{handler:(e,a)=>0}},{name:"likes",label:"Like",format:e=>e,field:e=>"",sortable:{handler:(e,a)=>!this.bigTable.likedRowIds||!this.bigTable.likedRowIds.length?0:(this.likedRowIds||[]).includes(e.id)?1:-1}},{name:"pageLink",label:"",required:!0}]),visibleColumns:["current_price","name","price_change_percentage_24h","likes","market_cap","mentions","sentiment","diffusion","reach"],likedRowIds:[],currentPage:1,rowsPerPage:{value:25,options:u([{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"}])},timeRange:{value:"24h",options:u([{value:"1h",label:"1 hour"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"},{value:"14d",label:"14 days"},{value:"30d",label:"30 days"},{value:"200d",label:"200 days"},{value:"1y",label:"1 year"}])}}},computed:{getCoinsGecko(){return this.$store.getters.getCoinsGecko||[]},getCoinsGeckoLoading(){return this.$store.getters.getCoinsGeckoLoading||!1},getCoinsGeckoError(){return this.$store.getters.getCoinsGeckoError},bigTablePagesCount(){return Math.floor(X/this.rowsPerPage.value)},getCoinGecko(){return this.$store.getters.getCoinGecko||{}},getCoinGeckoLoading(){return this.$store.getters.getCoinGeckoLoading||!1},getCoinGeckoError(){return this.$store.getters.getCoinGeckoError},coinId(){return(this.$route.params||{}).id}},watch:{"timeRange.value"(e){this.currentPage=1,this.loadCoinsMarket()},"rowsPerPage.value"(e){this.loadCoinsMarket()},currentPage(e){this.loadCoinsMarket()},coinId(e){e&&this.initial()}},created(){this.initial()},methods:{initial(){this.loadCoinById().then(()=>this.loadGraphicData()).then(()=>{this.loadCoinsMarket()})},loadCoinById(){return this.$store.dispatch("loadCoinById",{id:this.coinId,params:{}})},loadGraphicData(){this.graphicLoading=!0,Plotly.d3.csv("https://raw.githubusercontent.com/plotly/datasets/master/finance-charts-apple.csv",(e,a)=>{function t(s,y){return s.map(function(A){return A[y]})}const c={type:"scatter",mode:"lines",name:`${this.getCoinGecko.name} price`,x:t(a,"Date"),y:t(a,"AAPL.High"),line:{color:"#17BECF"}},n={type:"scatter",mode:"lines",name:`${this.getCoinGecko.name} mentions (indexed)`,x:t(a,"Date"),y:t(a,"AAPL.Low"),line:{color:"#3e5c50"}},i=[c,n],r={legend:{x:0,y:-.6},title:`${this.getCoinGecko.name} development`,xaxis:{autorange:!0,range:["2015-02-17","2017-02-16"],rangeselector:{buttons:[{count:1,label:"1m",step:"month",stepmode:"backward"},{count:6,label:"6m",step:"month",stepmode:"backward"},{step:"all"}]},rangeslider:{range:["2015-02-17","2017-02-16"]},type:"date"},yaxis:{autorange:!0,range:[86.8700008333,138.870004167],type:"linear"}};setTimeout(()=>{Plotly.newPlot(this.$refs.graphic||"graphic",i,r,{displaylogo:!1,responsive:!0}),this.$nextTick(()=>{this.graphicLoading=!1})},1e3)})},loadCoinsMarket(){return this.$store.dispatch("loadCoinsMarket",{params:g(d({},!!this.timeRange.value&&{price_change_percentage:this.timeRange.value}),{page:this.currentPage,per_page:this.rowsPerPage.value,price_change_percentage:this.timeRange.value})})}}},F={class:"special-coin"},j={class:"special-coin__loader"},K={class:"special-coin__content"},Y={key:0},ee={class:"special-coin__title-wrapper"},ae={class:"special-coin__title-text"},te={class:"special-coin__graphic-wrapper"},ne={ref:"graphic",id:"graphic",class:"special-coin__graphic"};function ie(e,a,t,c,n,i){const r=O("table-big");return b(),_("div",F,[o(Q,{label:"Back to Dashboard",type:"button",color:"primary",onClick:a[0]||(a[0]=s=>e.$router.push({name:"Dashboard"}))}),o(f,{name:"router",mode:"in-out"},{default:m(()=>[v(l("div",j,[o(I,{showing:""},{default:m(()=>[o(M,{size:"50px",color:"primary"})]),_:1})],512),[[C,i.getCoinGeckoLoading]])]),_:1}),l("div",K,[i.getCoinGecko.id?(b(),_("div",Y,[l("div",ee,[o(D,{class:"special-coin__title-image",src:i.getCoinGecko.image.large,alt:i.getCoinGecko.name+" image","logo-placeholder":n.logoPlaceholder,"spinner-color":"white"},null,8,["src","alt","logo-placeholder"]),l("h1",ae,V(i.getCoinGecko.name),1)])])):$("",!0),l("div",te,[l("div",ne,null,512),o(f,{name:"router",mode:"in-out"},{default:m(()=>[v(o(H,{class:"special-coin__graphic-skeleton","animation-speed":"500"},null,512),[[C,n.graphicLoading]])]),_:1})]),o(r,{coins:i.getCoinsGecko,columns:n.columns,loading:i.getCoinsGeckoLoading,"time-range":n.timeRange,"rows-per-page":n.rowsPerPage,"visible-columns":n.visibleColumns,"current-page":n.currentPage,"onUpdate:current-page":a[1]||(a[1]=s=>n.currentPage=s),"liked-row-ids":n.likedRowIds,"onUpdate:liked-row-ids":a[2]||(a[2]=s=>n.likedRowIds=s),"max-page":i.bigTablePagesCount,type:"big"},null,8,["coins","columns","loading","time-range","rows-per-page","visible-columns","current-page","liked-row-ids","max-page"])])])}var ge=B(Z,[["render",ie],["__scopeId","data-v-6af793d6"]]);export{ge as default};
