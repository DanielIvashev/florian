var Cl=Object.defineProperty,kl=Object.defineProperties;var ql=Object.getOwnPropertyDescriptors;var Vt=Object.getOwnPropertySymbols;var pl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable;var Et=(e,l,n)=>l in e?Cl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,B=(e,l)=>{for(var n in l||(l={}))pl.call(l,n)&&Et(e,n,l[n]);if(Vt)for(var n of Vt(l))Vl.call(l,n)&&Et(e,n,l[n]);return e},j=(e,l)=>kl(e,ql(l));import{b as w,h as q,g as He,r as H,t as de,f as U,k as El,o as Ce,l as Tl,Q as _l,T as nt,n as Bl,G as Ml,H as zl,R as Hl,S as Il}from"./quasar.c7fe1536.js";import{c as at,d as Dt,e as $t,f as Wt,r as Tt,g as Al,h as Kt,a as Ol,i as Fl,j as _t,k as Ll}from"./QInput.96ed1be8.js";import{c as Ie,i as rt,u as Nt,n as Pl,a as jt,l as Rl,v as Dl,R as $l,h as Ne,w as Wl,s as he,q as st,x as Le,y as Bt,z as Kl,A as Nl,B as ot,C as tt,D as jl,E as Ql,F as ct,G as Ul,d as Qt,H as Ut,e as Gt,I as Xt,J as Gl,f as Yt,K as Xl,L as Yl,M as Jt,N as Jl,O as Zl,P as Zt,j as en,S as Oe,T as tn,U as Be,V as Mt,W as ln,g as nn,Q as on,m as un}from"./index.1354ada4.js";var an=Ie({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=w(()=>parseInt(e.lines,10)),i=w(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),s=w(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>q("div",{style:s.value,class:i.value},rt(l.default))}}),rn=Ie({name:"QField",inheritAttrs:!1,props:at,emits:Dt,setup(){return $t(Wt())}});const sn={xs:8,sm:10,md:14,lg:20,xl:24};var cn=Ie({name:"QChip",props:j(B(B({},Nt),Pl),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:i}}=He(),s=jt(e,i),o=Rl(e,sn),a=w(()=>e.selected===!0||e.icon!==void 0),h=w(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),v=w(()=>e.iconRemove||i.iconSet.chip.remove),g=w(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=w(()=>{const E=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(E?` text-${E} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),p=w(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function T(E){E.keyCode===13&&r(E)}function r(E){e.disable||(n("update:selected",!e.selected),n("click",E))}function I(E){(E.keyCode===void 0||E.keyCode===13)&&(he(E),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function F(){const E=[];g.value===!0&&E.push(q("div",{class:"q-focus-helper"})),a.value===!0&&E.push(q(Ne,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const W=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return E.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Wl(l.default,W))),e.iconRight&&E.push(q(Ne,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&E.push(q(Ne,j(B({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value},p.value),{onClick:I,onKeyup:I}))),E}return()=>{if(e.modelValue===!1)return;const E={class:u.value,style:o.value};return g.value===!0&&Object.assign(E,p.value,{onClick:r,onKeyup:T}),Dl("div",E,F(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$l,e.ripple]])}}});const dn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function fn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:i,proxy:s,emit:o}=He(),a=H(null);let h;function v(r){return a.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(r){s.hide(r)},toggle(r){s.toggle(r),r.qAnchorHandled=!0},toggleKey(r){st(r,13)===!0&&g.toggle(r)},contextClick(r){s.hide(r),Le(r),de(()=>{s.show(r),r.qAnchorHandled=!0})},prevent:Le,mobileTouch(r){if(g.mobileCleanup(r),v(r)!==!0)return;s.hide(r),a.value.classList.add("non-selectable");const I=r.target;Bt(g,"anchor",[[I,"touchmove","mobileCleanup","passive"],[I,"touchend","mobileCleanup","passive"],[I,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{s.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){a.value.classList.remove("non-selectable"),clearTimeout(h),e.value===!0&&r!==void 0&&Kl()}}),n=function(r=i.contextMenu){if(i.noParentEvent===!0||a.value===null)return;let I;r===!0?s.$q.platform.is.mobile===!0?I=[[a.value,"touchstart","mobileTouch","passive"]]:I=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:I=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Bt(g,"anchor",I)});function u(){Nl(g,"anchor")}function p(r){for(a.value=r;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function T(){if(i.target===!1||i.target==="")a.value=null;else if(i.target===!0)p(s.$el.parentNode);else{let r=i.target;if(typeof i.target=="string")try{r=document.querySelector(i.target)}catch{r=void 0}r!=null?(a.value=r.$el||r,n()):(a.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return U(()=>i.contextMenu,r=>{a.value!==null&&(u(),n(r))}),U(()=>i.target,()=>{a.value!==null&&u(),T()}),U(()=>i.noParentEvent,r=>{a.value!==null&&(r===!0?u():n())}),El(()=>{T(),l!==!0&&i.modelValue===!0&&a.value===null&&o("update:modelValue",!1)}),Ce(()=>{clearTimeout(h),u()}),{anchorEl:a,canShow:v,anchorEvents:g}}function vn(e,l){const n=H(null);let i;function s(h,v){const g=`${v!==void 0?"add":"remove"}EventListener`,u=v!==void 0?v:i;h!==window&&h[g]("scroll",u,ot.passive),window[g]("scroll",u,ot.passive),i=v}function o(){n.value!==null&&(s(n.value),n.value=null)}const a=U(()=>e.noParentEvent,()=>{n.value!==null&&(o(),l())});return Ce(a),{localScrollTarget:n,unconfigureScrollTarget:o,changeScrollEvent:s}}const Pe=[];function mn(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return tt(e)}else if(e.__qPortalInnerRef!==void 0){const n=tt(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(l),n):e}e=tt(e)}while(e!=null)}function hn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function el(e,l,n,i){const s=H(!1);let o=null;const a={},h=i===!0&&hn(e);function v(u){if(u===!0){Tt(a);return}s.value===!1&&(h===!1&&o===null&&(o=jl()),s.value=!0,Pe.push(e.proxy),Al(a))}function g(){Tt(a),s.value=!1;const u=Pe.indexOf(e.proxy);u>-1&&Pe.splice(u,1),o!==null&&(Ql(o),o=null)}return Tl(g),Object.assign(e.proxy,{__qPortalInnerRef:l}),{showPortal:v,hidePortal:g,portalIsActive:s,renderPortal:()=>h===!0?n():s.value===!0?[q(_l,{to:o},n())]:void 0}}function tl(){let e;return Ce(()=>{e=void 0}),{registerTick(l){e=l,de(()=>{e===l&&(e(),e=void 0)})},removeTick(){e=void 0}}}const be=[];let ze;function gn(e){ze=e.keyCode===27}function Sn(){ze===!0&&(ze=!1)}function yn(e){ze===!0&&(ze=!1,st(e,27)===!0&&be[be.length-1](e))}function ll(e){window[e]("keydown",gn),window[e]("blur",Sn),window[e]("keyup",yn),ze=!1}function nl(e){ct.is.desktop===!0&&(be.push(e),be.length===1&&ll("addEventListener"))}function je(e){const l=be.indexOf(e);l>-1&&(be.splice(l,1),be.length===0&&ll("removeEventListener"))}const we=[];function ol(e){we[we.length-1](e)}function il(e){ct.is.desktop===!0&&(we.push(e),we.length===1&&document.body.addEventListener("focusin",ol))}function it(e){const l=we.indexOf(e);l>-1&&(we.splice(l,1),we.length===0&&document.body.removeEventListener("focusin",ol))}let ul;const{notPassiveCapture:Qe}=ot,xe=[];function Ue(e){clearTimeout(ul);const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=Pe.length-1;for(;n>=0;){const i=Pe[n].$;if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=xe.length-1;i>=0;i--){const s=xe[i];if((s.anchorEl.value===null||s.anchorEl.value.contains(l)===!1)&&(l===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(l)===!1))e.qClickOutside=!0,s.onClickOutside(e);else return}}function bn(e){xe.push(e),xe.length===1&&(document.addEventListener("mousedown",Ue,Qe),document.addEventListener("touchstart",Ue,Qe))}function zt(e){const l=xe.findIndex(n=>n===e);l>-1&&(xe.splice(l,1),xe.length===0&&(clearTimeout(ul),document.removeEventListener("mousedown",Ue,Qe),document.removeEventListener("touchstart",Ue,Qe)))}let Ht,It;function At(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ut={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ut[`${e}#ltr`]=e,ut[`${e}#rtl`]=e});function Ot(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:ut[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function xn(e,l){let{top:n,left:i,right:s,bottom:o,width:a,height:h}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],i-=l[0],o+=l[1],s+=l[0],a+=l[0],h+=l[1]),{top:n,left:i,right:s,bottom:o,width:a,height:h,middle:i+(s-i)/2,center:n+(o-n)/2}}function Cn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function kn(e){if(ct.is.ios===!0&&window.visualViewport!==void 0){const h=document.body.style,{offsetLeft:v,offsetTop:g}=window.visualViewport;v!==Ht&&(h.setProperty("--q-pe-left",v+"px"),Ht=v),g!==It&&(h.setProperty("--q-pe-top",g+"px"),It=g)}let l;const{scrollLeft:n,scrollTop:i}=e.el;if(e.absoluteOffset===void 0)l=xn(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:h,left:v}=e.anchorEl.getBoundingClientRect(),g=h+e.absoluteOffset.top,u=v+e.absoluteOffset.left;l={top:g,left:u,width:1,height:1,right:u+1,center:g,middle:u,bottom:g+1}}let s={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(s.minWidth=l.width+"px",e.cover===!0&&(s.minHeight=l.height+"px")),Object.assign(e.el.style,s);const o=Cn(e.el),a={top:l[e.anchorOrigin.vertical]-o[e.selfOrigin.vertical],left:l[e.anchorOrigin.horizontal]-o[e.selfOrigin.horizontal]};qn(a,l,o,e.anchorOrigin,e.selfOrigin),s={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(s.maxHeight=a.maxHeight+"px",l.height>a.maxHeight&&(s.minHeight=s.maxHeight)),a.maxWidth!==void 0&&(s.maxWidth=a.maxWidth+"px",l.width>a.maxWidth&&(s.minWidth=s.maxWidth)),Object.assign(e.el.style,s),e.el.scrollTop!==i&&(e.el.scrollTop=i),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function qn(e,l,n,i,s){const o=n.bottom,a=n.right,h=Ul(),v=window.innerHeight-h,g=document.body.clientWidth;if(e.top<0||e.top+o>v)if(s.vertical==="center")e.top=l[i.vertical]>v/2?Math.max(0,v-o):0,e.maxHeight=Math.min(o,v);else if(l[i.vertical]>v/2){const u=Math.min(v,i.vertical==="center"?l.center:i.vertical===s.vertical?l.bottom:l.top);e.maxHeight=Math.min(o,u),e.top=Math.max(0,u-o)}else e.top=Math.max(0,i.vertical==="center"?l.center:i.vertical===s.vertical?l.top:l.bottom),e.maxHeight=Math.min(o,v-e.top);if(e.left<0||e.left+a>g)if(e.maxWidth=Math.min(a,g),s.horizontal==="middle")e.left=l[i.horizontal]>g/2?Math.max(0,g-a):0;else if(l[i.horizontal]>g/2){const u=Math.min(g,i.horizontal==="middle"?l.middle:i.horizontal===s.horizontal?l.right:l.left);e.maxWidth=Math.min(a,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,i.horizontal==="middle"?l.middle:i.horizontal===s.horizontal?l.left:l.right),e.maxWidth=Math.min(a,g-e.left)}var pn=Ie({name:"QMenu",inheritAttrs:!1,props:j(B(B(B(B({},dn),Qt),Nt),Ut),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:At},self:{type:String,validator:At},offset:{type:Array,validator:wn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Gt,"click","escape-key"],setup(e,{slots:l,emit:n,attrs:i}){let s=null,o,a,h;const v=He(),{proxy:g}=v,{$q:u}=g,p=H(null),T=H(!1),r=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),I=jt(e,u),{registerTick:F,removeTick:E}=tl(),{registerTimeout:W,removeTimeout:D}=Xt(),{transition:G,transitionStyle:le}=Gl(e,T),{localScrollTarget:V,changeScrollEvent:X,unconfigureScrollTarget:Y}=vn(e,x),{anchorEl:J,canShow:ue}=fn({showing:T}),{hide:ae}=Yt({showing:T,canShow:ue,handleShow:M,handleHide:S,hideOnRouteChange:r,processOnMount:!0}),{showPortal:$,hidePortal:ge,renderPortal:re}=el(v,p,b),Z={anchorEl:J,innerRef:p,onClickOutside(d){if(e.persistent!==!0&&T.value===!0)return ae(d),(d.type==="touchstart"||d.target.classList.contains("q-dialog__backdrop"))&&he(d),!0}},ne=w(()=>Ot(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),fe=w(()=>e.cover===!0?ne.value:Ot(e.self||"top start",u.lang.rtl)),ee=w(()=>(e.square===!0?" q-menu--square":"")+(I.value===!0?" q-menu--dark q-dark":"")),me=w(()=>e.autoClose===!0?{onClick:A}:{}),se=w(()=>T.value===!0&&e.persistent!==!0);U(se,d=>{d===!0?(nl(C),bn(Z)):(je(C),zt(Z))});function f(){Kt(()=>{let d=p.value;d&&d.contains(document.activeElement)!==!0&&(d=d.querySelector("[autofocus], [data-autofocus]")||d,d.focus({preventScroll:!0}))})}function M(d){if(E(),D(),s=e.noRefocus===!1?document.activeElement:null,il(L),$(),x(),o=void 0,d!==void 0&&(e.touchPosition||e.contextMenu)){const P=Xl(d);if(P.left!==void 0){const{top:te,left:oe}=J.value.getBoundingClientRect();o={left:P.left-oe,top:P.top-te}}}a===void 0&&(a=U(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{k(),e.noFocus!==!0&&f()}),W(()=>{u.platform.is.ios===!0&&(h=e.autoClose,p.value.click()),k(),$(!0),n("show",d)},e.transitionDuration)}function S(d){E(),D(),y(!0),s!==null&&(d===void 0||d.qClickOutside!==!0)&&(s.focus(),s=null),W(()=>{ge(),n("hide",d)},e.transitionDuration)}function y(d){o=void 0,a!==void 0&&(a(),a=void 0),(d===!0||T.value===!0)&&(it(L),Y(),zt(Z),je(C)),d!==!0&&(s=null)}function x(){(J.value!==null||e.scrollTarget!==void 0)&&(V.value=Yl(J.value,e.scrollTarget),X(V.value,k))}function A(d){h!==!0?(mn(g,d),n("click",d)):h=!1}function L(d){se.value===!0&&e.noFocus!==!0&&Jt(p.value,d.target)!==!0&&f()}function C(d){n("escape-key"),ae(d)}function k(){const d=p.value;d===null||J.value===null||kn({el:d,offset:e.offset,anchorEl:J.value,anchorOrigin:ne.value,selfOrigin:fe.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function b(){return q(nt,{name:G.value,appear:!0},()=>T.value===!0?q("div",B(j(B({},i),{ref:p,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,i.class],style:[i.style,le.value]}),me.value),rt(l.default)):null)}return Ce(y),Object.assign(g,{focus:f,updatePosition:k}),re}});let Ke=0;const Vn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ft={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var En=Ie({name:"QDialog",inheritAttrs:!1,props:j(B(B({},Qt),Ut),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Gt,"shake","click","escape-key"],setup(e,{slots:l,emit:n,attrs:i}){const s=He(),o=H(null),a=H(!1),h=H(!1),v=H(!1);let g,u=null,p,T;const r=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:I}=Zl(),{registerTimeout:F,removeTimeout:E}=Xt(),{registerTick:W,removeTick:D}=tl(),{showPortal:G,hidePortal:le,portalIsActive:V,renderPortal:X}=el(s,o,k,!0),{hide:Y}=Yt({showing:a,hideOnRouteChange:r,handleShow:me,handleHide:se,processOnMount:!0}),{addToHistory:J,removeFromHistory:ue}=Jl(a,Y,r),ae=w(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Vn[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),$=w(()=>"q-transition--"+(e.transitionShow===void 0?Ft[e.position][0]:e.transitionShow)),ge=w(()=>"q-transition--"+(e.transitionHide===void 0?Ft[e.position][1]:e.transitionHide)),re=w(()=>h.value===!0?ge.value:$.value),Z=w(()=>`--q-transition-duration: ${e.transitionDuration}ms`),ne=w(()=>a.value===!0&&e.seamless!==!0),fe=w(()=>e.autoClose===!0?{onClick:A}:{}),ee=w(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${ne.value===!0?"modal":"seamless"}`,i.class]);U(a,b=>{de(()=>{h.value=b})}),U(()=>e.maximized,b=>{a.value===!0&&x(b)}),U(ne,b=>{I(b),b===!0?(il(C),nl(S)):(it(C),je(S))});function me(b){E(),D(),J(),u=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,x(e.maximized),G(),v.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),W(f)),F(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:d,bottom:P}=document.activeElement.getBoundingClientRect(),{innerHeight:te}=window,oe=window.visualViewport!==void 0?window.visualViewport.height:te;d>0&&P>oe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-oe,P>=te?1/0:Math.ceil(document.scrollingElement.scrollTop+P-oe/2))),document.activeElement.scrollIntoView()}T=!0,o.value.click(),T=!1}G(!0),v.value=!1,n("show",b)},e.transitionDuration)}function se(b){E(),D(),ue(),y(!0),v.value=!0,u!==null&&(u.focus(),u=null),F(()=>{le(),v.value=!1,n("hide",b)},e.transitionDuration)}function f(){Kt(()=>{let b=o.value;b===null||b.contains(document.activeElement)===!0||(b=b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function M(){f(),n("shake");const b=o.value;b!==null&&(b.classList.remove("q-animate--scale"),b.classList.add("q-animate--scale"),clearTimeout(g),g=setTimeout(()=>{o.value!==null&&(b.classList.remove("q-animate--scale"),f())},170))}function S(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&M():(n("escape-key"),Y()))}function y(b){clearTimeout(g),(b===!0||a.value===!0)&&(x(!1),e.seamless!==!0&&(I(!1),it(C),je(S))),b!==!0&&(u=null)}function x(b){b===!0?p!==!0&&(Ke<1&&document.body.classList.add("q-body--dialog"),Ke++,p=!0):p===!0&&(Ke<2&&document.body.classList.remove("q-body--dialog"),Ke--,p=!1)}function A(b){T!==!0&&(Y(b),n("click",b))}function L(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?Y(b):e.noShake!==!0&&M()}function C(b){a.value===!0&&V.value===!0&&Jt(o.value,b.target)!==!0&&f()}Object.assign(s.proxy,{focus:f,shake:M,__updateRefocusTarget(b){u=b||null}}),Ce(y);function k(){return q("div",j(B({},i),{class:ee.value}),[q(nt,{name:"q-transition--fade",appear:!0},()=>ne.value===!0?q("div",{class:"q-dialog__backdrop fixed-full",style:Z.value,"aria-hidden":"true",onMousedown:L}):null),q(nt,{name:re.value,appear:!0},()=>a.value===!0?q("div",B({ref:o,class:ae.value,style:Z.value,tabindex:-1},fe.value),rt(l.default)):null)])}return X}});let Ge=!1;{const e=document.createElement("div"),l=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",l.style.width="1000px",l.style.height="1px",document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Ge=e.scrollLeft>=0,e.remove()}const ie=1e3,Tn=["start","center","end","start-force","center-force","end-force"];let _n=1;const Bn=Array.prototype.filter,Lt=window.getComputedStyle(document.body).overflowAnchor===void 0?Zt:function(e,l){const n=e+"_ss";let i=document.getElementById(n);i===null&&(i=document.createElement("style"),i.type="text/css",i.id=n,document.head.appendChild(i)),i.qChildIndex!==l&&(i.qChildIndex=l,i.innerHTML=`#${e} > *:nth-child(${l}) { overflow-anchor: auto }`)};function Me(e,l){return e+l}function lt(e,l,n,i,s,o,a,h){const v=e===window?document.scrollingElement||document.documentElement:e,g=s===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-a-h,scrollMaxSize:0,offsetStart:-a,offsetEnd:-h};if(s===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=v.scrollLeft,u.scrollViewSize+=v.clientWidth),u.scrollMaxSize=v.scrollWidth,o===!0&&(u.scrollStart=(Ge===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=v.scrollTop,u.scrollViewSize+=v.clientHeight),u.scrollMaxSize=v.scrollHeight),n!==null)for(let p=n.previousElementSibling;p!==null;p=p.previousElementSibling)p.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=p[g]);if(i!==null)for(let p=i.nextElementSibling;p!==null;p=p.nextElementSibling)p.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=p[g]);if(l!==e){const p=v.getBoundingClientRect(),T=l.getBoundingClientRect();s===!0?(u.offsetStart+=T.left-p.left,u.offsetEnd-=T.width):(u.offsetStart+=T.top-p.top,u.offsetEnd-=T.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Pt(e,l,n,i){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(i===!0&&(l=(Ge===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(i===!0&&(l=(Ge===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Fe(e,l,n,i){if(n>=i)return 0;const s=l.length,o=Math.floor(n/ie),a=Math.floor((i-1)/ie)+1;let h=e.slice(o,a).reduce(Me,0);return n%ie!==0&&(h-=l.slice(o*ie,n).reduce(Me,0)),i%ie!==0&&i!==s&&(h-=l.slice(i,a*ie).reduce(Me,0)),h}const Mn={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},zn=B({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},Mn);function Hn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:i}){const s=He(),{props:o,emit:a,proxy:h}=s,{$q:v}=h;let g,u,p,T=[],r;const I="qvs_"+_n++,F=H(0),E=H(0),W=H({}),D=H(null),G=H(null),le=H(null),V=H({from:0,to:0}),X=w(()=>o.tableColspan!==void 0?o.tableColspan:100);i===void 0&&(i=w(()=>o.virtualScrollItemSize));const Y=w(()=>i.value+";"+o.virtualScrollHorizontal),J=w(()=>Y.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);U(J,()=>{ee()}),U(Y,ue);function ue(){fe(u,!0)}function ae(S){fe(S===void 0?u:S)}function $(S,y){const x=l();if(x==null||x.nodeType===8)return;const A=lt(x,n(),D.value,G.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);p!==A.scrollViewSize&&ee(A.scrollViewSize),re(x,A,Math.min(e.value-1,Math.max(0,parseInt(S,10)||0)),0,Tn.indexOf(y)>-1?y:u>-1&&S>u?"end":"start")}function ge(){const S=l();if(S==null||S.nodeType===8)return;const y=lt(S,n(),D.value,G.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),x=e.value-1,A=y.scrollMaxSize-y.offsetStart-y.offsetEnd-E.value;if(g===y.scrollStart)return;if(y.scrollMaxSize<=0){re(S,y,0,0);return}p!==y.scrollViewSize&&ee(y.scrollViewSize),Z(V.value.from);const L=Math.floor(y.scrollMaxSize-Math.max(y.scrollViewSize,y.offsetEnd)-Math.min(r[x],y.scrollViewSize/2));if(L>0&&Math.ceil(y.scrollStart)>=L){re(S,y,x,y.scrollMaxSize-y.offsetEnd-T.reduce(Me,0));return}let C=0,k=y.scrollStart-y.offsetStart,b=k;if(k<=A&&k+y.scrollViewSize>=F.value)k-=F.value,C=V.value.from,b=k;else for(let d=0;k>=T[d]&&C<x;d++)k-=T[d],C+=ie;for(;k>0&&C<x;)k-=r[C],k>-y.scrollViewSize?(C++,b=k):b=r[C]+k;re(S,y,C,b)}function re(S,y,x,A,L){const C=typeof L=="string"&&L.indexOf("-force")>-1,k=C===!0?L.replace("-force",""):L,b=k!==void 0?k:"start";let d=Math.max(0,x-W.value[b]),P=d+W.value.total;P>e.value&&(P=e.value,d=Math.max(0,P-W.value.total)),g=y.scrollStart;const te=d!==V.value.from||P!==V.value.to;if(te===!1&&k===void 0){se(x);return}const{activeElement:oe}=document,ve=le.value;te===!0&&ve!==null&&ve!==oe&&ve.contains(oe)===!0&&(ve.addEventListener("focusout",ne),setTimeout(()=>{ve!==void 0&&ve.removeEventListener("focusout",ne)})),Lt(I,x-d+1);const Xe=k!==void 0?r.slice(d,x).reduce(Me,0):0;if(te===!0){const ke=P>=V.value.from&&d<=V.value.to?V.value.to:P;V.value={from:d,to:ke},F.value=Fe(T,r,0,d),E.value=Fe(T,r,P,e.value),requestAnimationFrame(()=>{V.value.to!==P&&g===y.scrollStart&&(V.value={from:V.value.from,to:P},E.value=Fe(T,r,P,e.value))})}requestAnimationFrame(()=>{if(g!==y.scrollStart)return;te===!0&&Z(d);const ke=r.slice(d,x).reduce(Me,0),qe=ke+y.offsetStart+F.value,Re=qe+r[x];let Q=qe+A;if(k!==void 0){const K=ke-Xe,ce=y.scrollStart+K;Q=C!==!0&&ce<qe&&Re<ce+y.scrollViewSize?ce:k==="end"?Re-y.scrollViewSize:qe-(k==="start"?0:Math.round((y.scrollViewSize-r[x])/2))}g=Q,Pt(S,Q,o.virtualScrollHorizontal,v.lang.rtl),se(x)})}function Z(S){const y=le.value;if(y){const x=Bn.call(y.children,d=>d.classList&&d.classList.contains("q-virtual-scroll--skip")===!1),A=x.length,L=o.virtualScrollHorizontal===!0?d=>d.getBoundingClientRect().width:d=>d.offsetHeight;let C=S,k,b;for(let d=0;d<A;){for(k=L(x[d]),d++;d<A&&x[d].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=L(x[d]),d++;b=k-r[C],b!==0&&(r[C]+=b,T[Math.floor(C/ie)]+=b),C++}}}function ne(){le.value!==void 0&&le.value.focus()}function fe(S,y){const x=1*i.value;(y===!0||Array.isArray(r)===!1)&&(r=[]);const A=r.length;r.length=e.value;for(let C=e.value-1;C>=A;C--)r[C]=x;const L=Math.floor((e.value-1)/ie);T=[];for(let C=0;C<=L;C++){let k=0;const b=Math.min((C+1)*ie,e.value);for(let d=C*ie;d<b;d++)k+=r[d];T.push(k)}u=-1,g=void 0,F.value=Fe(T,r,0,V.value.from),E.value=Fe(T,r,V.value.to,e.value),S>=0?(Z(V.value.from),de(()=>{$(S)})):f()}function ee(S){if(S===void 0&&typeof window!="undefined"){const k=l();k!=null&&k.nodeType!==8&&(S=lt(k,n(),D.value,G.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}p=S;const y=parseFloat(o.virtualScrollSliceRatioBefore)||0,x=parseFloat(o.virtualScrollSliceRatioAfter)||0,A=1+y+x,L=S===void 0||S<=0?1:Math.ceil(S/i.value),C=Math.max(1,L,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/A));W.value={total:Math.ceil(C*A),start:Math.ceil(C*y),center:Math.ceil(C*(.5+y)),end:Math.ceil(C*(1+y)),view:L}}function me(S,y){const x=o.virtualScrollHorizontal===!0?"width":"height",A={["--q-virtual-scroll-item-"+x]:i.value+"px"};return[S==="tbody"?q(S,{class:"q-virtual-scroll__padding",key:"before",ref:D},[q("tr",[q("td",{style:B({[x]:`${F.value}px`},A),colspan:X.value})])]):q(S,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:B({[x]:`${F.value}px`},A)}),q(S,{class:"q-virtual-scroll__content",key:"content",ref:le,id:I,tabindex:-1},y.flat()),S==="tbody"?q(S,{class:"q-virtual-scroll__padding",key:"after",ref:G},[q("tr",[q("td",{style:B({[x]:`${E.value}px`},A),colspan:X.value})])]):q(S,{class:"q-virtual-scroll__padding",key:"after",ref:G,style:B({[x]:`${E.value}px`},A)})]}function se(S){u!==S&&(o.onVirtualScroll!==void 0&&a("virtual-scroll",{index:S,from:V.value.from,to:V.value.to-1,direction:S<u?"decrease":"increase",ref:h}),u=S)}ee();const f=en(ge,v.platform.is.ios===!0?120:35);Bl(()=>{ee()});let M=!1;return Ml(()=>{M=!0}),zl(()=>{if(M!==!0)return;const S=l();g!==void 0&&S!==void 0&&S!==null&&S.nodeType!==8?Pt(S,g,o.virtualScrollHorizontal,v.lang.rtl):$(u)}),Lt!==Zt&&Ce(()=>{const S=document.getElementById(I+"_ss");S!==null&&S.remove(),f.cancel()}),Object.assign(h,{scrollTo:$,reset:ue,refresh:ae}),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:W,setVirtualScrollSize:ee,onVirtualScrollEvt:f,localResetVirtualScroll:fe,padVirtualScroll:me,scrollTo:$,reset:ue,refresh:ae}}const Rt=e=>["add","add-unique","toggle"].includes(e),In=".*+?^${}()|[]\\",An=Object.keys(at);var Rn=Ie({name:"QSelect",inheritAttrs:!1,props:j(B(B(B({},zn),Ol),at),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Rt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...Dt,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:i}=He(),{$q:s}=i,o=H(!1),a=H(!1),h=H(-1),v=H(""),g=H(!1),u=H(!1);let p,T,r,I,F,E,W,D,G;const le=H(null),V=H(null),X=H(null),Y=H(null),J=H(null),ue=Fl(e),ae=Ll(wt),$=w(()=>Array.isArray(e.options)?e.options.length:0),ge=w(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:re,virtualScrollSliceSizeComputed:Z,localResetVirtualScroll:ne,padVirtualScroll:fe,onVirtualScrollEvt:ee,scrollTo:me,setVirtualScrollSize:se}=Hn({virtualScrollLength:$,getVirtualScrollTarget:cl,getVirtualScrollEl:yt,virtualScrollItemSizeComputed:ge}),f=Wt(),M=w(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,m=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&T!==void 0?T:[],_=m.map(O=>sl(O,c));return e.modelValue===null&&t===!0?_.filter(O=>O!==null):_}return m}),S=w(()=>{const t={};return An.forEach(m=>{const c=e[m];c!==void 0&&(t[m]=c)}),t}),y=w(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),x=w(()=>_t(M.value)),A=w(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||M.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),L=w(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=w(()=>$.value===0),k=w(()=>M.value.map(t=>K.value(t)).join(", ")),b=w(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),d=w(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||M.value.some(b.value))),P=w(()=>f.focused.value===!0?e.tabindex:-1),te=w(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-owns":`${f.targetUid.value}_lb`,"aria-controls":`${f.targetUid.value}_lb`})),oe=w(()=>{const t={id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return h.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${h.value}`),t}),ve=w(()=>M.value.map((t,m)=>({index:m,opt:t,html:b.value(t),selected:!0,removeAtIndex:rl,toggleOption:Se,tabindex:P.value}))),Xe=w(()=>{if($.value===0)return[];const{from:t,to:m}=re.value;return e.options.slice(t,m).map((c,_)=>{const O=ce.value(c)===!0,z=t+_,R={clickable:!0,active:!1,activeClass:Re.value,manualFocus:!0,focused:!1,disable:O,tabindex:-1,dense:e.optionsDense,dark:y.value,role:"option",id:`${f.targetUid.value}_${z}`,onClick:()=>{Se(c)}};return O!==!0&&(Ze(c)===!0&&(R.active=!0),h.value===z&&(R.focused=!0),R["aria-selected"]=R.active===!0?"true":"false",s.platform.is.desktop===!0&&(R.onMousemove=()=>{o.value===!0&&pe(z)})),{index:z,opt:c,html:b.value(c),label:K.value(c),selected:R.active,focused:R.focused,toggleOption:Se,setOptionIndex:pe,itemProps:R}})}),ke=w(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),qe=w(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Re=w(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Q=w(()=>Je(e.optionValue,"value")),K=w(()=>Je(e.optionLabel,"label")),ce=w(()=>Je(e.optionDisable,"disable")),De=w(()=>M.value.map(t=>Q.value(t))),al=w(()=>{const t={onInput:wt,onChange:ae,onKeydown:St,onKeyup:ht,onKeypress:gt,onFocus:vt,onClick(m){r===!0&&Be(m)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ae,t});U(M,t=>{T=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(a.value!==!0&&o.value!==!0||x.value!==!0)&&(I!==!0&&_e(),(a.value===!0||o.value===!0)&&Ve(""))},{immediate:!0}),U(()=>e.fillInput,_e),U(o,xt);function dt(t){return e.emitValue===!0?Q.value(t):t}function Ye(t){if(t>-1&&t<M.value.length)if(e.multiple===!0){const m=e.modelValue.slice();n("remove",{index:t,value:m.splice(t,1)[0]}),n("update:modelValue",m)}else n("update:modelValue",null)}function rl(t){Ye(t),f.focus()}function ft(t,m){const c=dt(t);if(e.multiple!==!0){e.fillInput===!0&&Ae(K.value(t),!0,!0),n("update:modelValue",c);return}if(M.value.length===0){n("add",{index:0,value:c}),n("update:modelValue",e.multiple===!0?[c]:c);return}if(m===!0&&Ze(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const _=e.modelValue.slice();n("add",{index:_.length,value:c}),_.push(c),n("update:modelValue",_)}function Se(t,m){if(f.editable.value!==!0||t===void 0||ce.value(t)===!0)return;const c=Q.value(t);if(e.multiple!==!0){m!==!0&&(Ae(e.fillInput===!0?K.value(t):"",!0,!0),ye()),V.value!==null&&V.value.focus(),(M.value.length===0||Oe(Q.value(M.value[0]),c)!==!0)&&n("update:modelValue",e.emitValue===!0?c:t);return}if((r!==!0||g.value===!0)&&f.focus(),vt(),M.value.length===0){const z=e.emitValue===!0?c:t;n("add",{index:0,value:z}),n("update:modelValue",e.multiple===!0?[z]:z);return}const _=e.modelValue.slice(),O=De.value.findIndex(z=>Oe(z,c));if(O>-1)n("remove",{index:O,value:_.splice(O,1)[0]});else{if(e.maxValues!==void 0&&_.length>=e.maxValues)return;const z=e.emitValue===!0?c:t;n("add",{index:_.length,value:z}),_.push(z)}n("update:modelValue",_)}function pe(t){if(s.platform.is.desktop!==!0)return;const m=t>-1&&t<$.value?t:-1;h.value!==m&&(h.value=m)}function $e(t=1,m){if(o.value===!0){let c=h.value;do c=Mt(c+t,-1,$.value-1);while(c!==-1&&c!==h.value&&ce.value(e.options[c])===!0);h.value!==c&&(pe(c),me(c),m!==!0&&e.useInput===!0&&e.fillInput===!0&&We(c>=0?K.value(e.options[c]):E))}}function sl(t,m){const c=_=>Oe(Q.value(_),t);return e.options.find(c)||m.find(c)||t}function Je(t,m){const c=t!==void 0?t:m;return typeof c=="function"?c:_=>tn(_)===!0&&c in _?_[c]:_}function Ze(t){const m=Q.value(t);return De.value.find(c=>Oe(c,m))!==void 0}function vt(t){e.useInput===!0&&V.value!==null&&(t===void 0||V.value===t.target&&t.target.value===k.value)&&V.value.select()}function mt(t){st(t,27)===!0&&o.value===!0&&(Be(t),ye(),_e()),n("keyup",t)}function ht(t){const{value:m}=t.target;if(t.keyCode!==void 0){mt(t);return}if(t.target.value="",clearTimeout(p),_e(),typeof m=="string"&&m.length>0){const c=m.toLocaleLowerCase(),_=z=>{const R=e.options.find(N=>z.value(N).toLocaleLowerCase()===c);return R===void 0?!1:(M.value.indexOf(R)===-1?Se(R):ye(),!0)},O=z=>{_(Q)!==!0&&(_(K)===!0||z===!0||Ve(m,!0,()=>O(!0)))};O()}else f.clearValue(t)}function gt(t){n("keypress",t)}function St(t){if(n("keydown",t),ln(t)===!0)return;const m=v.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||m===!0);if(t.keyCode===27){Le(t);return}if(t.keyCode===9&&c===!1){Ee();return}if(t.target===void 0||t.target.id!==f.targetUid.value)return;if(t.keyCode===40&&f.innerLoading.value!==!0&&o.value===!1){he(t),Te();return}if(t.keyCode===8&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ye(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(he(t),h.value=-1,$e(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Z.value!==void 0&&(he(t),h.value=Math.max(-1,Math.min($.value,h.value+(t.keyCode===33?-1:1)*Z.value.view)),$e(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(he(t),$e(t.keyCode===38?-1:1,e.multiple));const _=$.value;if((D===void 0||G<Date.now())&&(D=""),_>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||D.length>0)){o.value!==!0&&Te(t);const O=t.key.toLocaleLowerCase(),z=D.length===1&&D[0]===O;G=Date.now()+1500,z===!1&&(he(t),D+=O);const R=new RegExp("^"+D.split("").map(et=>In.indexOf(et)>-1?"\\"+et:et).join(".*"),"i");let N=h.value;if(z===!0||N<0||R.test(K.value(e.options[N]))!==!0)do N=Mt(N+1,-1,_-1);while(N!==h.value&&(ce.value(e.options[N])===!0||R.test(K.value(e.options[N]))!==!0));h.value!==N&&de(()=>{pe(N),me(N),N>=0&&e.useInput===!0&&e.fillInput===!0&&We(K.value(e.options[N]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||D!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&he(t),h.value>-1&&h.value<_){Se(e.options[h.value]);return}if(m===!0){const O=(z,R)=>{if(R){if(Rt(R)!==!0)return}else R=e.newValueMode;if(z==null)return;Ae("",e.multiple!==!0,!0),(R==="toggle"?Se:ft)(z,R==="add-unique"),e.multiple!==!0&&(V.value!==null&&V.value.focus(),ye())};if(e.onNewValue!==void 0?n("new-value",v.value,O):O(v.value),e.multiple!==!0)return}o.value===!0?Ee():f.innerLoading.value!==!0&&Te()}}function yt(){return r===!0?J.value:X.value!==null&&X.value.__qPortalInnerRef.value!==null?X.value.__qPortalInnerRef.value:void 0}function cl(){return yt()}function dl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ve.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ve.value.map((t,m)=>q(cn,{key:"option-"+m,removable:f.editable.value===!0&&ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:P.value,onRemove(){t.removeAtIndex(m)}},()=>q("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:K.value(t.opt)}))):[q("span",{[d.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:k.value})]}function bt(){if(C.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:v.value}):void 0;const t=l.option!==void 0?l.option:c=>q(on,B({key:c.index},c.itemProps),()=>q(nn,()=>q(an,()=>q("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let m=fe("div",Xe.value.map(t));return l["before-options"]!==void 0&&(m=l["before-options"]().concat(m)),un(l["after-options"],m)}function fl(t,m){const c=B(j(B(B({ref:m===!0?V:void 0,key:"i_t",class:A.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search"},te.value),f.splitAttrs.attributes.value),{id:m===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),al.value);return t!==!0&&r===!0&&(Array.isArray(c.class)===!0?c.class=[...c.class,"no-pointer-events"]:c.class+=" no-pointer-events"),q("input",c)}function wt(t){clearTimeout(p),!(t&&t.target&&t.target.composing===!0)&&(We(t.target.value||""),I=!0,E=v.value,f.focused.value!==!0&&(r!==!0||g.value===!0)&&f.focus(),e.onFilter!==void 0&&(p=setTimeout(()=>{Ve(v.value)},e.inputDebounce)))}function We(t){v.value!==t&&(v.value=t,n("input-value",t))}function Ae(t,m,c){I=c!==!0,e.useInput===!0&&(We(t),(m===!0||c!==!0)&&(E=t),m!==!0&&Ve(t))}function Ve(t,m,c){if(e.onFilter===void 0||m!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?n("filter-abort"):(f.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&M.value.length>0&&I!==!0&&t===K.value(M.value[0])&&(t="");const _=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);clearTimeout(F),F=_,n("filter",t,(O,z)=>{(m===!0||f.focused.value===!0)&&F===_&&(clearTimeout(F),typeof O=="function"&&O(),u.value=!1,de(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(m===!0?o.value===!0&&ye():o.value===!0?xt(!0):o.value=!0),typeof z=="function"&&de(()=>{z(i)}),typeof c=="function"&&de(()=>{c(i)})}))},()=>{f.focused.value===!0&&F===_&&(clearTimeout(F),f.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function vl(){return q(pn,j(B({ref:X,class:L.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:y.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},oe.value),{onScrollPassive:ee,onBeforeShow:kt,onBeforeHide:ml,onShow:hl}),bt)}function ml(t){qt(t),Ee()}function hl(){se()}function gl(t){Be(t),V.value!==null&&V.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Sl(t){Be(t),de(()=>{g.value=!1})}function yl(){const t=[q(rn,j(B(j(B({class:`col-auto ${f.fieldClass.value}`},S.value),{for:f.targetUid.value,dark:y.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:v.value.length>0}),f.splitAttrs.listeners.value),{onFocus:gl,onBlur:Sl}),j(B({},l),{rawControl:()=>f.getControl(!0),before:void 0,after:void 0}))];return o.value===!0&&t.push(q("div",j(B({ref:J,class:L.value+" scroll",style:e.popupContentStyle},oe.value),{onClick:Le,onScrollPassive:ee}),bt())),q(En,{ref:Y,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:kt,onBeforeHide:bl,onHide:wl,onShow:xl},()=>q("div",{class:"q-select__dialog"+(y.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function bl(t){qt(t),Y.value!==null&&Y.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function wl(t){ye(),f.focused.value===!1&&n("blur",t),_e()}function xl(){const t=document.activeElement;(t===null||t.id!==f.targetUid.value)&&V.value!==null&&V.value!==t&&V.value.focus(),se()}function Ee(){a.value!==!0&&(h.value=-1,o.value===!0&&(o.value=!1),f.focused.value===!1&&(clearTimeout(F),F=void 0,f.innerLoading.value===!0&&(n("filter-abort"),f.innerLoading.value=!1,u.value=!1)))}function Te(t){f.editable.value===!0&&(r===!0?(f.onControlFocusin(t),a.value=!0,de(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?Ve(v.value):(C.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function ye(){a.value=!1,Ee()}function _e(){e.useInput===!0&&Ae(e.multiple!==!0&&e.fillInput===!0&&M.value.length>0&&K.value(M.value[0])||"",!0,!0)}function xt(t){let m=-1;if(t===!0){if(M.value.length>0){const c=Q.value(M.value[0]);m=e.options.findIndex(_=>Oe(Q.value(_),c))}ne(m)}pe(m)}function Ct(){a.value===!1&&X.value!==null&&X.value.updatePosition()}function kt(t){t!==void 0&&Be(t),n("popup-show",t),f.hasPopupOpen=!0,f.onControlFocusin(t)}function qt(t){t!==void 0&&Be(t),n("popup-hide",t),f.hasPopupOpen=!1,f.onControlFocusout(t)}function pt(){r=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),W=s.platform.is.ios===!0&&r===!0&&e.useInput===!0?"fade":e.transitionShow}return Hl(pt),Il(Ct),pt(),Ce(()=>{clearTimeout(p)}),Object.assign(i,{showPopup:Te,hidePopup:ye,removeAtIndex:Ye,add:ft,toggleOption:Se,getOptionIndex:()=>h.value,setOptionIndex:pe,moveOptionSelection:$e,filter:Ve,updateMenuPosition:Ct,updateInputValue:Ae,isOptionSelected:Ze,getEmittingOptionValue:dt,isOptionDisabled:(...t)=>ce.value.apply(null,t)===!0,getOptionValue:(...t)=>Q.value.apply(null,t),getOptionLabel:(...t)=>K.value.apply(null,t)}),Object.assign(f,{innerValue:M,fieldClass:w(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:le,targetRef:V,hasValue:x,showPopup:Te,floatingLabel:w(()=>(e.hideSelected===!0?v.value.length>0:x.value===!0)||_t(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(a.value===!0||C.value!==!0||l["no-option"]!==void 0))return r===!0?yl():vl();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(t){f.onControlFocusin(t)},onFocusout(t){f.onControlFocusout(t,()=>{_e(),Ee()})},onClick(t){if(Le(t),r!==!0&&o.value===!0){Ee(),V.value!==null&&V.value.focus();return}Te(t)}},getControl:t=>{const m=dl(),c=t===!0||a.value!==!0||r!==!0;if(e.useInput===!0?m.push(fl(t,c)):f.editable.value===!0&&(m.push(q("div",j(B({ref:c===!0?V:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?f.targetUid.value:void 0},te.value),{onKeydown:St,onKeyup:mt,onKeypress:gt}))),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&m.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:ht}))),ue.value!==void 0&&e.disable!==!0&&De.value.length>0){const _=De.value.map(O=>q("option",{value:O,selected:!0}));m.push(q("select",{class:"hidden",name:ue.value,multiple:e.multiple},_))}return q("div",B({class:"q-field__native row items-center"},f.splitAttrs.attributes.value),m)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[q(Ne,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:ke.value})]:null}),$t(f)}});export{an as Q,Rn as a};
